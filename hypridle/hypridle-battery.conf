# The idea with battery.conf and mains.conf is that when power
# source is changed, bin/update-hypridle-power.sh will kill
# hypridle and restart with the matching config file.

$lock_cmd = pidof hyprlock || hyprlock
$suspend_cmd = systemctl suspend || loginctl suspend

general {
  lock_cmd = $lock_cmd
  before_sleep_cmd = $lock_cmd 
  after_sleep_cmd = hyprctl dispatch dpms on
}

# Lock screen
listener {
  timeout = 180
  on-timeout = loginctl lock-session 
  name = battery-lock
}

# Turn off screen 
listener {
  timeout = 210
  on-timeout = hyprctl dispatch dpms off
  on-resume = hyprctl dispatch dpms on
  name = battery-dpms
}

# Suspend after 10 minutes
# listener {
#   timeout = 600
#   on-timeout = systemctl suspend 
#   on-resume = hyprctl dispatch dpms on
#   name = battery-suspend
# }
